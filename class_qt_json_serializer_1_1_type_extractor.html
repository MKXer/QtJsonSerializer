<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QtJsonSerializer: QtJsonSerializer::TypeExtractor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="display: inline;">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QtJsonSerializer
   &#160;<span id="projectnumber">4.0.0</span>
   </div>
   <div id="projectbrief">A library to perform generic seralization and deserialization of QObjects</div>
  </td>
 </tr>
 </tbody>
</table>
<a style="float: right;" target="_blank"  href="https://github.com/Skycoder42/QJsonSerializer">
<img style="padding: 10px;" src="GitHub_Logo.png"/>
</a>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_qt_json_serializer.html">QtJsonSerializer</a></li><li class="navelem"><a class="el" href="class_qt_json_serializer_1_1_type_extractor.html">TypeExtractor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_qt_json_serializer_1_1_type_extractor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QtJsonSerializer::TypeExtractor Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface to extract data from any generic container.  
 <a href="class_qt_json_serializer_1_1_type_extractor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="typeconverter_8h_source.html">typeconverter.h</a>&gt;</code></p>

<p>Inherited by QtJsonSerializer::TypeExtractors::OptionalExtractor&lt; TValue &gt;, QtJsonSerializer::TypeExtractors::PairExtractor&lt; TPair, TFirst, TSecond &gt;, QtJsonSerializer::TypeExtractors::SmartPointerExtractor&lt; TSmartPointer, TType &gt;, QtJsonSerializer::TypeExtractors::SmartPointerExtractor&lt; QPointer, TType &gt;, QtJsonSerializer::TypeExtractors::TupleExtractor&lt; TValues &gt;, and QtJsonSerializer::TypeExtractors::VariantExtractor&lt; TValues &gt;.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89cfc5c4a114896267aad32e1142ef50"><td class="memItemLeft" align="right" valign="top">virtual <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qbytearray.html">QByteArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#a89cfc5c4a114896267aad32e1142ef50">baseType</a> () const =0</td></tr>
<tr class="memdesc:a89cfc5c4a114896267aad32e1142ef50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the identifier of the general type this extractor is for.  <a href="class_qt_json_serializer_1_1_type_extractor.html#a89cfc5c4a114896267aad32e1142ef50">More...</a><br /></td></tr>
<tr class="separator:a89cfc5c4a114896267aad32e1142ef50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15149ce8b25fdad8ef99f94e8a948153"><td class="memItemLeft" align="right" valign="top">virtual <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qlist.html">QList</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#a15149ce8b25fdad8ef99f94e8a948153">subtypes</a> () const =0</td></tr>
<tr class="memdesc:a15149ce8b25fdad8ef99f94e8a948153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an ordered list of subtypes found in types handled by this extractor.  <a href="class_qt_json_serializer_1_1_type_extractor.html#a15149ce8b25fdad8ef99f94e8a948153">More...</a><br /></td></tr>
<tr class="separator:a15149ce8b25fdad8ef99f94e8a948153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0456b4083afb72fa756d1a45e08f772e"><td class="memItemLeft" align="right" valign="top">virtual <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#a0456b4083afb72fa756d1a45e08f772e">extract</a> (const <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;value, int index=-1) const =0</td></tr>
<tr class="memdesc:a0456b4083afb72fa756d1a45e08f772e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the data of a value of the extractors type at the given index.  <a href="class_qt_json_serializer_1_1_type_extractor.html#a0456b4083afb72fa756d1a45e08f772e">More...</a><br /></td></tr>
<tr class="separator:a0456b4083afb72fa756d1a45e08f772e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb37a96482f98fbcbb66ab0d6765d968"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#acb37a96482f98fbcbb66ab0d6765d968">emplace</a> (<a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;target, const <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;value, int index=-1) const =0</td></tr>
<tr class="memdesc:acb37a96482f98fbcbb66ab0d6765d968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emplaces the value into the target of the extractors type at the given index.  <a href="class_qt_json_serializer_1_1_type_extractor.html#acb37a96482f98fbcbb66ab0d6765d968">More...</a><br /></td></tr>
<tr class="separator:acb37a96482f98fbcbb66ab0d6765d968"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface to extract data from any generic container. </p>
<dl class="section note"><dt>Note</dt><dd>This class is only relevant if you plan on creating your own <a class="el" href="class_qt_json_serializer_1_1_type_converter.html" title="An interface to create custom serializer type converters.">TypeConverter</a></dd></dl>
<p>This interface is used by custom <a class="el" href="class_qt_json_serializer_1_1_type_converter.html" title="An interface to create custom serializer type converters.">TypeConverter</a> classes to get data from a generic container in a non-generic fashion. For example, an extractor for <code><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a>&lt;T1, T2&gt;</code> allows the converters to access the <code>first</code> and <code>second</code> elements of the pair as <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a>, without having to know the actual types of T1 and T2.</p>
<p>When creating extractors, they are typlically generic themselves, as a generic extractor is registered to provide the non generic API. The following code is a basic sample for a <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a> converter. Further details about the methods can be found here.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</div>
<div class="line"><span class="keyword">class </span>QPairExtractor final : <span class="keyword">public</span> <a class="code" href="class_qt_json_serializer_1_1_type_extractor.html">QtJsonSerializer::TypeExtractor</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">using</span> Type = <a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair&lt;T1, T2&gt;</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qbytearray.html">QByteArray</a> <a class="code" href="class_qt_json_serializer_1_1_type_extractor.html#a89cfc5c4a114896267aad32e1142ef50">baseType</a>() const final {</div>
<div class="line">        <span class="keywordflow">return</span> QByteArrayLiteral(<span class="stringliteral">&quot;QPair&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qlist.html">QList&lt;int&gt;</a> <a class="code" href="class_qt_json_serializer_1_1_type_extractor.html#a15149ce8b25fdad8ef99f94e8a948153">subtypes</a>() const final {</div>
<div class="line">        <span class="keywordflow">return</span> {qMetaTypeId&lt;T1&gt;(), qMetaTypeId&lt;T2&gt;()};</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> <a class="code" href="class_qt_json_serializer_1_1_type_extractor.html#a0456b4083afb72fa756d1a45e08f772e">extract</a>(<span class="keyword">const</span> <a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;value, <span class="keywordtype">int</span> index) <span class="keyword">const</span> <span class="keyword">final</span> {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> vPair = value.value&lt;Type&gt;();</div>
<div class="line">        <span class="keywordflow">switch</span> (index) {</div>
<div class="line">        <span class="keywordflow">case</span> 0:</div>
<div class="line">            <span class="keywordflow">return</span> <a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html#fromValue">QVariant::fromValue</a>(vPair.first);</div>
<div class="line">        <span class="keywordflow">case</span> 1:</div>
<div class="line">            <span class="keywordflow">return</span> <a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html#fromValue">QVariant::fromValue</a>(vPair.second);</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">return</span> {};</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="class_qt_json_serializer_1_1_type_extractor.html#acb37a96482f98fbcbb66ab0d6765d968">emplace</a>(<a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;target, <span class="keyword">const</span> <a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;value, <span class="keywordtype">int</span> index) <span class="keyword">const</span> <span class="keyword">final</span> {</div>
<div class="line">        Q_ASSERT(target.userType() == qMetaTypeId&lt;Type&gt;());</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> vPair = reinterpret_cast&lt;Type*&gt;(target.data());</div>
<div class="line">        <span class="keywordflow">switch</span> (index) {</div>
<div class="line">        <span class="keywordflow">case</span> 0:</div>
<div class="line">            vPair-&gt;first = value.value&lt;T1&gt;();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 1:</div>
<div class="line">            vPair-&gt;second = value.value&lt;T2&gt;();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_qt_json_serializer_1_1_type_converter.html" title="An interface to create custom serializer type converters.">TypeConverter</a>, <a class="el" href="class_qt_json_serializer_1_1_type_converter_1_1_serialization_helper.html" title="Helper class passed to the type converter by the serializer. Do not implement yourself.">TypeConverter::SerializationHelper</a>, <a class="el" href="class_qt_json_serializer_1_1_type_converter_1_1_serialization_helper.html#ab422132876052bbfef47eb3f8a95c006" title="Returns a reference to an extractor for the given type, or nullptr.">TypeConverter::SerializationHelper::extractor</a>, <a class="el" href="class_qt_json_serializer_1_1_serializer_base.html#aab234e2c08d2741c0dc5fb7cc333f9b1" title="Registers a custom extractor for the given type.">SerializerBase::registerExtractor</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="typeconverter_8h_source.html#l00019">19</a> of file <a class="el" href="typeconverter_8h_source.html">typeconverter.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a89cfc5c4a114896267aad32e1142ef50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89cfc5c4a114896267aad32e1142ef50">&#9670;&nbsp;</a></span>baseType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QtJsonSerializer::TypeExtractor::baseType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the identifier of the general type this extractor is for. </p>
<dl class="section return"><dt>Returns</dt><dd>The base type identifier</dd></dl>
<p>The base type should be a simple string representing the generic type this extractor provides. It must be the same for any generic instance created, independent of the generic type, i.e. a <code><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a>&lt;T1, T2&gt;</code> extractor could for example return <code><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a></code> or <code>pair</code> etc.</p>
<p>When creating a converter that uses this extractor, you can easily check if your converter supports a certain type by checking this base type:</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> MyConverter::canConvert(<span class="keywordtype">int</span> metaTypeId)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> extractor = helper()-&gt;extractor(metaTypeId);</div>
<div class="line">    <span class="keywordflow">return</span> extractor &amp;&amp; extractor-&gt;baseType() == <span class="stringliteral">&quot;QPair&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_qt_json_serializer_1_1_type_converter.html#a868c3e8868335815ff0d7c21126e788c" title="Returns true, if this implementation can convert the given type.">TypeConverter::canConvert</a> </dd></dl>

</div>
</div>
<a id="acb37a96482f98fbcbb66ab0d6765d968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb37a96482f98fbcbb66ab0d6765d968">&#9670;&nbsp;</a></span>emplace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QtJsonSerializer::TypeExtractor::emplace </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emplaces the value into the target of the extractors type at the given index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The data to emplace the subdata into </td></tr>
    <tr><td class="paramname">value</td><td>The subvalue to emplace into the target </td></tr>
    <tr><td class="paramname">index</td><td>An optional index, if the value holds more than one subvalue</td></tr>
  </table>
  </dd>
</dl>
<p>Use this method in your custom converters TypeConverter::deserialize to get data into a generic container. If a value is supported by the extractor, you can set the subvalues via this method. For simple containers (such as std::optional), you can ignore the index, as there is only one value. For more complex types, such as <code><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a>&lt;T1, T2&gt;</code>, use the index to access the elements.</p>
<p>The type of each value expected by a certain index will match the type at the same index from <a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#a15149ce8b25fdad8ef99f94e8a948153" title="Returns an ordered list of subtypes found in types handled by this extractor.">subtypes()</a>. The subtypes list will also tell you, how many elements there are in the generic type.</p>
<p>To, for example, emplace the value of <code>first</code> of a <code><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a>&lt;T1, T2&gt;</code> after deserialize it, the following code can be used</p>
<div class="fragment"><div class="line"><a class="codeRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> pairData{propertyType, <span class="keyword">nullptr</span>};</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> extractor = helper()-&gt;extractor(metaTypeId);</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> tIds = extractor-&gt;subtypes();</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> deserData = helper()-&gt;deserializeSubtype(tIds[0], data);</div>
<div class="line">extractor-&gt;emplace(pairData, deserData, 0);</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd>TypeConverter::deserialize, <a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#a15149ce8b25fdad8ef99f94e8a948153" title="Returns an ordered list of subtypes found in types handled by this extractor.">TypeExtractor::subtypes</a> </dd></dl>

</div>
</div>
<a id="a0456b4083afb72fa756d1a45e08f772e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0456b4083afb72fa756d1a45e08f772e">&#9670;&nbsp;</a></span>extract()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QtJsonSerializer::TypeExtractor::extract </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts the data of a value of the extractors type at the given index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The data to extract subdata from </td></tr>
    <tr><td class="paramname">index</td><td>An optional index, if the value holds more than one subvalue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The subvalue extract from value</dd></dl>
<p>Use this method in your custom converters <a class="el" href="class_qt_json_serializer_1_1_type_converter.html#ad68e3290c5f958d9c14772d140d8e4ef" title="Called by the serializer to serializer your given type to CBOR.">TypeConverter::serialize</a> to get data out of a generic container. If a value is supported by the extractor, you can get the subvalues via this method. For simple containers (such as std::optional), you can ignore the index, as there is only one value. For more complex types, such as <code><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a>&lt;T1, T2&gt;</code>, use the index to access the elements.</p>
<p>The type of each value returned by a certain index will match the type at the same index from <a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#a15149ce8b25fdad8ef99f94e8a948153" title="Returns an ordered list of subtypes found in types handled by this extractor.">subtypes()</a>. The subtypes list will also tell you, how many elements there are in the generic type.</p>
<p>To, for example, access the value of <code>second</code> of a <code><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a>&lt;T1, T2&gt;</code> and then serialize it, the following code can be used</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> extractor = helper()-&gt;extractor(metaTypeId);</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> tIds = extractor-&gt;subtypes();</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> subData = extractor-&gt;extract(data, 1);</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> serData = helper()-&gt;serializeSubtype(tIds[1], subData);</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_qt_json_serializer_1_1_type_converter.html#ad68e3290c5f958d9c14772d140d8e4ef" title="Called by the serializer to serializer your given type to CBOR.">TypeConverter::serialize</a>, <a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#a15149ce8b25fdad8ef99f94e8a948153" title="Returns an ordered list of subtypes found in types handled by this extractor.">TypeExtractor::subtypes</a> </dd></dl>

</div>
</div>
<a id="a15149ce8b25fdad8ef99f94e8a948153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15149ce8b25fdad8ef99f94e8a948153">&#9670;&nbsp;</a></span>subtypes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QtJsonSerializer::TypeExtractor::subtypes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an ordered list of subtypes found in types handled by this extractor. </p>
<dl class="section return"><dt>Returns</dt><dd>The ordered list of subtypes</dd></dl>
<p>This list must contain the type ids of all elements contained in the container, in the same order as they are accessed by <a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#a0456b4083afb72fa756d1a45e08f772e" title="Extracts the data of a value of the extractors type at the given index.">extract()</a> and <a class="el" href="class_qt_json_serializer_1_1_type_extractor.html#acb37a96482f98fbcbb66ab0d6765d968" title="Emplaces the value into the target of the extractors type at the given index.">emplace()</a>. For example, for a <code><a class="elRef" target="_blank" href="https://doc.qt.io/qt-5/qpair.html">QPair</a>&lt;T1, T2&gt;</code>, the type ids would be <code>qMetaTypeId&lt;T1&gt;()</code> and <code>qMetaTypeId&lt;T2&gt;()</code>.</p>
<p>You can use these in your custom converter to pass a type id to the <a class="el" href="class_qt_json_serializer_1_1_type_converter_1_1_serialization_helper.html#a0d19b99951e10580b0cf857d9e0852bd" title="Serialize a subvalue, represented by a meta property.">TypeConverter::SerializationHelper::serializeSubtype</a> and <a class="el" href="class_qt_json_serializer_1_1_type_converter_1_1_serialization_helper.html#a0d19b99951e10580b0cf857d9e0852bd" title="Serialize a subvalue, represented by a meta property.">TypeConverter::SerializationHelper::serializeSubtype</a> methods when handling elements of the contained data. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="typeconverter_8h_source.html">typeconverter.h</a></li>
<li>typeextractor.dox</li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclass_qt_json_serializer_1_1_type_extractor_html"><div class="ttname"><a href="class_qt_json_serializer_1_1_type_extractor.html">QtJsonSerializer::TypeExtractor</a></div><div class="ttdoc">Interface to extract data from any generic container.</div><div class="ttdef"><b>Definition:</b> <a href="typeconverter_8h_source.html#l00019">typeconverter.h:19</a></div></div>
<div class="ttc" id="aclass_qt_json_serializer_1_1_type_extractor_html_acb37a96482f98fbcbb66ab0d6765d968"><div class="ttname"><a href="class_qt_json_serializer_1_1_type_extractor.html#acb37a96482f98fbcbb66ab0d6765d968">QtJsonSerializer::TypeExtractor::emplace</a></div><div class="ttdeci">virtual void emplace(QVariant &amp;target, const QVariant &amp;value, int index=-1) const =0</div><div class="ttdoc">Emplaces the value into the target of the extractors type at the given index.</div></div>
<div class="ttc" id="aqvariant_html_fromValue"><div class="ttname"><a href="https://doc.qt.io/qt-5/qvariant.html#fromValue">QVariant::fromValue</a></div><div class="ttdeci">QVariant fromValue(const T &amp;value)</div></div>
<div class="ttc" id="aqlist_html"><div class="ttname"><a href="https://doc.qt.io/qt-5/qlist.html">QList</a></div></div>
<div class="ttc" id="aclass_qt_json_serializer_1_1_type_extractor_html_a89cfc5c4a114896267aad32e1142ef50"><div class="ttname"><a href="class_qt_json_serializer_1_1_type_extractor.html#a89cfc5c4a114896267aad32e1142ef50">QtJsonSerializer::TypeExtractor::baseType</a></div><div class="ttdeci">virtual QByteArray baseType() const =0</div><div class="ttdoc">Returns the identifier of the general type this extractor is for.</div></div>
<div class="ttc" id="aclass_qt_json_serializer_1_1_type_extractor_html_a0456b4083afb72fa756d1a45e08f772e"><div class="ttname"><a href="class_qt_json_serializer_1_1_type_extractor.html#a0456b4083afb72fa756d1a45e08f772e">QtJsonSerializer::TypeExtractor::extract</a></div><div class="ttdeci">virtual QVariant extract(const QVariant &amp;value, int index=-1) const =0</div><div class="ttdoc">Extracts the data of a value of the extractors type at the given index.</div></div>
<div class="ttc" id="aqvariant_html"><div class="ttname"><a href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a></div></div>
<div class="ttc" id="aclass_qt_json_serializer_1_1_type_extractor_html_a15149ce8b25fdad8ef99f94e8a948153"><div class="ttname"><a href="class_qt_json_serializer_1_1_type_extractor.html#a15149ce8b25fdad8ef99f94e8a948153">QtJsonSerializer::TypeExtractor::subtypes</a></div><div class="ttdeci">virtual QList&lt; int &gt; subtypes() const =0</div><div class="ttdoc">Returns an ordered list of subtypes found in types handled by this extractor.</div></div>
<div class="ttc" id="aqpair_html"><div class="ttname"><a href="https://doc.qt.io/qt-5/qpair.html">QPair</a></div></div>
<div class="ttc" id="aqbytearray_html"><div class="ttname"><a href="https://doc.qt.io/qt-5/qbytearray.html">QByteArray</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 3 2019 08:44:13 for QtJsonSerializer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
